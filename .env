# Beispiel‑Konfigurationsdatei für die FaSiKo‑Werkstatt
# Kopieren Sie diese Datei nach `.env` und passen Sie die Werte an Ihre Umgebung an.

# --- Basis‑Einstellungen ---
APP_NAME=FaSiKo‑Studio Backend
ENV_PROFILE=dev

# Datenbankverbindung
#
# Standardmäßig verwenden wir PostgreSQL. Die URL setzt sich wie folgt
# zusammen: `postgresql+psycopg2://<USER>:<PASS>@<HOST>:<PORT>/<DB>`.
# In der Docker‑Compose‑Umgebung lautet der Host in der Regel `db`.
# Sollte kein `DATABASE_URL` gesetzt sein, baut die Anwendung die URL
# automatisch anhand der unten definierten Variablen POSTGRES_*.
# Für lokale Entwicklung kann weiterhin SQLite genutzt werden, z. B.
# durch Setzen von `DATABASE_URL=sqlite:////tmp/fasiko.db`.
DATABASE_URL=postgresql+psycopg2://fasiko_user:fasiko_pass@db:5432/fasiko_db

# PostgreSQL‑Einstellungen (werden verwendet, wenn DATABASE_URL leer ist)
POSTGRES_DB=fasiko_db
POSTGRES_USER=fasiko_user
POSTGRES_PASSWORD=fasiko_pass
POSTGRES_HOST=db
POSTGRES_PORT=5432

# Speicherorte für Uploads und Exporte (werden über Docker‑Volumes bereitgestellt)
UPLOAD_DIR=/data/uploads
OPENPOINT_DIR=/data/openpoints
CHAT_DIR=/data/chat
EXPORT_DIR=/data/exports

# Maximale Upload‑Größe in Bytes (hier: 30 MB)
MAX_UPLOAD_BYTES=31457280

# --- LLM‑Konfiguration ---
# Basis‑URL des Ollama‑Servers
OLLAMA_URL=http://ollama:11434
# Modell für allgemeine Chats (8‑Billion‑Parameter‑Variante)
OLLAMA_CHAT_MODEL=llama3:8b
# Modell für die initiale FaSiKo‑Erstellung (70‑Billion‑Parameter‑Variante)
MODEL_FASIKO_CREATE_70B=llama3:70b
# Modell für Bearbeitungen/Chat (8‑Billion‑Parameter‑Variante)
MODEL_GENERAL_8B=llama3:8b

# --- SearXNG‑Konfiguration ---
# URL des selbst gehosteten SearXNG‑Metasuche‑Dienstes
SEARXNG_URL=http://searxng:8080
WEBSEARCH_MAX_RESULTS=5
WEBSEARCH_TIMEOUT=15
WEBSEARCH_MAX_QUERY_LENGTH=200

# --- Begrenzungen ---
MAX_SOURCES_PER_PROJECT=50
MAX_PARALLEL_JOBS=3
JOB_TIMEOUT=1800

# --- Sicherheit / API‑Schlüssel ---
# Aktiviert die API‑Key‑Authentifizierung (true|false)
API_KEY_ENABLED=false
# Wenn API‑Key‑Authentifizierung aktiv ist, hier den Schlüssel eintragen
API_KEY=

# Erlaubte Ursprünge für CORS (Komma‑separiert, z. B. https://example.com,https://app.example.com oder * für alle)
CORS_ALLOWED_ORIGINS=*